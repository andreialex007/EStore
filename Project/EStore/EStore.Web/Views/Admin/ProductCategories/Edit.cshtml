@using EStore.Web.Code
@model EStore.BL.Models.Product.ProductCategoryItem

@{
    ViewBag.Title = $"{(Model.Id == 0 ? "Создать" : "Редактировать")} категорию";
    Layout = "~/Views/_Layout/Administrative.cshtml";
}

@section Styles
{
    <!-- styles -->
    <link href="~/Content/assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/assets/global/plugins/dropzone/css/dropzone.css" rel="stylesheet" />
    <link href="~/Content/assets/global/plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.css" rel="stylesheet" />
    <link href="~/Content/assets/global/plugins/bootstrap-wysihtml5/wysiwyg-color.css" rel="stylesheet" />
    <link href="~/Content/assets/global/plugins/bootstrap-summernote/summernote.css" rel="stylesheet" />
}

@section Scripts {
    <!-- scripts -->
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places"> </script>
    <script src="~/Content/assets/global/plugins/datatables/media/js/jquery.dataTables.min.js" type="text/javascript"></script>

    <script src="~/Content/assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js" type="text/javascript"></script>
    <script src="/Content/assets/global/plugins/jquery-inputmask/jquery.inputmask.bundle.min.js" type="text/javascript"></script>
    <script src="~/Content/assets/global/plugins/dropzone/dropzone.js"></script>
    <script src="~/Content/assets/global/plugins/accounting.js"></script>
    <script src="~/Content/assets/global/plugins/bootstrap-summernote/summernote.js"></script>

    <!-- custom scripts -->
    <script src="~/Scripts/admin/product-categories/edit-product-category-page.js"></script>
}

<div class="edit-category-page">
    <div class="row">
        <div class="col-md-12">
            <div class="portlet light">
                <div class="portlet-title">
                    <div class="caption">
                        <i class="fa fa-info-circle"></i>
                        <span class="caption-subject bold font-grey-gallery">
                            Детали категории
                        </span>
                    </div>
                    <div class="tools">
                        <a href="javascript:;" class="fullscreen" data-original-title="" title="">
                        </a>
                    </div>
                </div>
                <div class="portlet-body">
                    <form method="post">
                        @Html.Partial("~/Views/_Common/ErrorsBlock.cshtml")
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">Название</label>
                                    <input type="text" name="@Html.NameFor(x => x.Name)" value="@Model.Name" class="form-control input-sm" placeholder="Название категории">
                                </div>
                            </div>
                            <div class="col-md-6 parent-category">
                                <div class="form-group">
                                    <label class="control-label">Родительская категория</label>
                                    <input type="hidden"
                                           name="@Html.NameFor(x=>x.ParentCategoryId)"
                                           data-items="@Model.AvaliableCategories.Select(x => new {id = x.Id, text = x.Name}).ToJson()"
                                           data-selected-id="@Model.ParentCategoryId"
                                           class="form-control input-sm" />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 text-center">
                                <button type="submit" class="btn green">Сохранить</button>
                                <a class="btn red" href="@Url.Action("Index", "ProductCategories")">Назад</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
